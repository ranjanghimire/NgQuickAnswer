
<ion-header>

  <ion-navbar color=primary>
    <ion-title>My Profile</ion-title>
    <ion-buttons end>
      <button ion-button icon-left (click)="logout()" *ngIf="isLoggedInUser">
        <ion-icon name="exit"></ion-icon>
        Logout
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content>
 
  <div *ngIf="retrievedUser">
    <ion-row>
      <ion-col>
        <div class="gm-circle align-center" *ngIf="retrievedUser.userName" id="circleLetter-div">{{ extractFirstLetter(retrievedUser.userName) | uppercase }}</div>  
      </ion-col> <!-- round image -->
    </ion-row>
    <ion-row> 
      <ion-col><div class="align-center gm-dim" style="margin-bottom:20px">{{retrievedUser.userName | uppercase}}</div></ion-col> <!-- username -->
    </ion-row>


    <ion-row>
      
      <ion-col class="align-center" style="border-right: thin solid #ccc;">
          <div (click)="showAskedQuestions()">
            <p class="gm-strong gm-dim">{{ questionCount }}</p>
            <p class="gm-small-caps gm-dim" style="font-weight:700">QUESTIONS</p>
          </div>
      </ion-col>

      <ion-col class="align-center" style="border-right: thin solid #ccc;">
          <div (click)="showRepliedAnswers()">
            <p class="gm-strong gm-dim">{{ answerCount }}</p>
            <p class="gm-small-caps gm-dim" style="font-weight: 700">ANSWERS</p>
          </div>
      </ion-col>

      <ion-col class="align-center">
          <div (click)="goToLikedQuestionsPage(retrievedUser.id)">
            <p class="gm-strong gm-dim">{{ (retrievedUser.likedIds) ? retrievedUser.likedIds.length: 0 }}</p>
            <p class="gm-small-caps gm-dim" style="font-weight: 700">LIKES</p>
          </div>
      </ion-col>

        <ion-col class="align-center" *ngIf="isLoggedInUser && retrievedUser" style="border-left: thin solid #ccc;">
              <div (click)="showMessages()">
                <p class="gm-strong gm-dim">{{ (retrievedUser.messages) ? retrievedUser.messages.length: 0 }}</p>
                <p class="gm-small-caps gm-dim" style="font-weight: 700">MESSAGES</p>
              </div>
          </ion-col>
  
    </ion-row>
  </div>
  <div id="form-div" *ngIf="isLoggedInUser && retrievedUser">
    <ion-list inset>

      <ion-item>
        <ion-label>Full Name</ion-label>
        <ion-input type="text" [(ngModel)]="retrievedUser.fullName" name="fullName" placeholder="Full Name"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label>Password</ion-label>
        <ion-input type="password" [(ngModel)]="retrievedUser.password" name="password" placeholder="Password"></ion-input>
      </ion-item>
    </ion-list>
    <div padding style="margin-top:-15px;">
      <button ion-button block (click)="updateUserPassword()">Update</button>
    </div>
  </div>

  <div *ngIf="!isLoggedInUser" padding>
      <button ion-button block (click)="goToComposeMessagePage(retrievedUser)">Send Private Message</button>
  </div>
  


</ion-content>
